# Ανάλυση Μεταλλικών Κατασκευών με Μέθοδο Πεπερασμένων Στοιχείων (FEM)

**Συγγραφέας:** Rakovalis Pavlos 6931  
**Ημερομηνία:** Δεκέμβριος 2025

---

## 📋 Περιεχόμενα

1. [Περιγραφή Έργου](#περιγραφή-έργου)
2. [Απαιτήσεις Συστήματος](#απαιτήσεις-συστήματος)
3. [Εγκατάσταση](#εγκατάσταση)
4. [Δομή Αρχείων](#δομή-αρχείων)
5. [Εκτέλεση Προγράμματος](#εκτέλεση-προγράμματος)
6. [Περιγραφή Modules](#περιγραφή-modules)
7. [Αποτελέσματα](#αποτελέσματα)
8. [Αναλυτική Επαλήθευση](#αναλυτική-επαλήθευση)

---

## 🎯 Περιγραφή Έργου

Αυτό το έργο υλοποιεί ένα πλήρες σύστημα ανάλυσης τρισδιάστατων μεταλλικών κατασκευών (3D trusses) με τη μέθοδο των πεπερασμένων στοιχείων. Το πρόγραμμα περιλαμβάνει:

- **Pre-processor**: Δημιουργία γεωμετρίας, ορισμός οριακών συνθηκών και φορτίων
- **Solver**: Επίλυση του συστήματος FEM με άμεση μέθοδο δυσκαμψίας
- **Post-processor**: Οπτικοποίηση αποτελεσμάτων με διαδραστικά γραφήματα

Η υλοποίηση χρησιμοποιεί Python με NumPy για υπολογισμούς, Pandas για διαχείριση δεδομένων και Plotly για διαδραστικές οπτικοποιήσεις.

---

## 💻 Απαιτήσεις Συστήματος

### Python Version
- Python 3.8 ή νεότερη έκδοση

### Απαιτούμενα Πακέτα
- `numpy` >= 1.24.0
- `pandas` >= 2.0.0
- `plotly` >= 5.14.0

---

## 🔧 Εγκατάσταση

### Βήμα 1: Εγκατάσταση Python

Βεβαιωθείτε ότι έχετε εγκατεστημένο Python 3.8 ή νεότερο:

```bash
python --version
```

Αν δεν έχετε Python, κατεβάστε το από: https://www.python.org/downloads/

### Βήμα 2: Δημιουργία Εικονικού Περιβάλλοντος (Προαιρετικό αλλά Συνιστώμενο)

```bash
# Windows
python -m venv venv
venv\\Scripts\\activate

# Linux/Mac
python3 -m venv venv
source venv/bin/activate
```

### Βήμα 3: Εγκατάσταση Απαιτούμενων Πακέτων

```bash
pip install -r requirements.txt
```

Εναλλακτικά, εγκατάσταση ένα προς ένα:

```bash
pip install numpy pandas plotly
```

### Βήμα 4: Επαλήθευση Εγκατάστασης

```bash
python -c "import numpy, pandas, plotly; print('All packages installed successfully!')"
```

---

## 📁 Δομή Αρχείων

```
final_deliverable/
│
├── FEM_Main.py              # Κύριο script εκτέλεσης (τρέχει όλα τα βήματα)
├── preprocessor.py          # Module προ-επεξεργασίας (γεωμετρία, BCs)
├── solver.py                # Module επίλυσης FEM
├── postprocessor.py         # Module μετα-επεξεργασίας (οπτικοποίηση)
├── geometry_utils.py        # Βοηθητικές συναρτήσεις γεωμετρίας
├── requirements.txt         # Λίστα απαιτούμενων πακέτων
├── README.md               # Αυτό το αρχείο
│
├── data/                   # Φάκελος δεδομένων (δημιουργείται αυτόματα)
│   ├── structure.dat       # Αρχείο εισόδου (γεωμετρία, BCs)
│   └── structure.res       # Αρχείο αποτελεσμάτων
│
├── validation_files/       # Αρχεία επαλήθευσης απλού παραδείγματος
│   ├── structure_example.dat  # Απλή γεωμετρία 4 κόμβων για validation
│   └── structure_example.res  # Αποτελέσματα απλού παραδείγματος
│
├── plots/                  # Διαδραστικά γραφήματα (HTML)
│   ├── geometry_visualization.html
│   ├── deformed_structure_interactive.html
│   ├── displacement_distribution.html
│   ├── stress_distribution.html
│   └── strain_distribution.html
│
└── output_html/           # Πίνακες δεδομένων (HTML)
    ├── Elements_DataFrame.html
    ├── Displacements_DataFrame.html
    ├── Forces_DataFrame.html
    └── ...
```

---

## 🚀 Εκτέλεση Προγράμματος

### Μέθοδος 1: Εκτέλεση Όλων των Βημάτων Αυτόματα (Συνιστάται)

```bash
python FEM_Main.py
```

Αυτή η εντολή εκτελεί αυτόματα:
1. Pre-processor → Δημιουργεί `data/structure.dat`
2. Solver → Επιλύει και δημιουργεί `data/structure.res`
3. Post-processor → Δημιουργεί οπτικοποιήσεις στο `plots/`

### Μέθοδος 2: Εκτέλεση Κάθε Βήματος Ξεχωριστά

```bash
# Βήμα 1: Pre-processor
python preprocessor.py

# Βήμα 2: Solver
python solver.py

# Βήμα 3: Post-processor
python postprocessor.py
```

### Προβολή Αποτελεσμάτων

Μετά την εκτέλεση, ανοίξτε τα HTML αρχεία στον φάκελο `plots/` με οποιοδήποτε web browser:

- **geometry_visualization.html**: Αρχική γεωμετρία κατασκευής
- **deformed_structure_interactive.html**: Παραμορφωμένη κατασκευή με slider για μεγέθυνση
- **displacement_distribution.html**: Κατανομή μετατοπίσεων
- **stress_distribution.html**: Κατανομή τάσεων
- **strain_distribution.html**: Κατανομή παραμορφώσεων

---

## 📦 Περιγραφή Modules

### 1. `preprocessor.py` - Pre-Processor Module

**Σκοπός:** Δημιουργία γεωμετρίας κατασκευής και ορισμός οριακών συνθηκών

**Κύριες Λειτουργίες:**
- Δημιουργία κόμβων (nodes) της κατασκευής
- Αυτόματη δημιουργία στοιχείων (elements/ράβδων) με βάση συνδεσιμότητα
- Περιστροφή κατασκευής γύρω από τον άξονα Y
- Ορισμός στηριγμάτων (boundary conditions)
- Εφαρμογή εξωτερικών φορτίων
- Εξαγωγή σε αρχείο `.dat` για τον solver

**Παράμετροι Γεωμετρίας (ενσωματωμένες στο αρχείο):**
```python
L = 1.5 × 1.13      # Μήκος στοιχείου (m)
A = 1.2 × 1.69      # Βασική διάσταση (m)
B = 1.93            # Επιπλέον παράμετρος (m)
phi = 60 + 9.1      # Γωνία περιστροφής (degrees)
A_0 = 6 × (0.5 + 0.13)  # Παράμετρος διατομής
```

**Υλικό:**
- Χάλυβας: E = 210 GPa, ν = 0.3

**Έξοδος:**
- `data/structure.dat`: Αρχείο με κόμβους, στοιχεία, BCs, φορτία
- `plots/geometry_visualization.html`: Οπτικοποίηση γεωμετρίας

---

### 2. `solver.py` - FEM Solver Module

**Σκοπός:** Επίλυση του συστήματος FEM και υπολογισμός μετατοπίσεων, δυνάμεων και τάσεων

**Μεθοδολογία:**
- Άμεση μέθοδος δυσκαμψίας (Direct Stiffness Method)
- Συναρμογή καθολικού πίνακα δυσκαμψίας
- Εφαρμογή οριακών συνθηκών
- Επίλυση γραμμικού συστήματος: **K · u = F**
- Υπολογισμός αντιδράσεων στηριγμάτων
- Υπολογισμός αξονικών δυνάμεων και τάσεων στοιχείων

**Κύρια Βήματα:**
1. Ανάγνωση `structure.dat`
2. Υπολογισμός πινάκων δυσκαμψίας στοιχείων
3. Συναρμογή καθολικού πίνακα
4. Επίλυση για μετατοπίσεις
5. Υπολογισμός δυνάμεων και τάσεων

**Έξοδος:**
- `data/structure.res`: Μετατοπίσεις, αντιδράσεις, δυνάμεις, τάσεις

---

### 3. `postprocessor.py` - Post-Processor Module

**Σκοπός:** Οπτικοποίηση αποτελεσμάτων με διαδραστικά γραφήματα

**Δυνατότητες:**
- Διαδραστική προβολή παραμορφωμένης κατασκευής
- Slider για προσαρμογή μεγέθυνσης παραμόρφωσης (1x - 5000x)
- Κατανομή μετατοπίσεων με χρωματικό χάρτη
- Κατανομή τάσεων (θλίψη/εφελκυσμός)
- Κατανομή παραμορφώσεων
- Εξαγωγή πινάκων δεδομένων σε HTML

**Έξοδος:**
- `plots/*.html`: Διαδραστικά γραφήματα Plotly
- `output_html/*.html`: Πίνακες δεδομένων

---

### 4. `geometry_utils.py` - Geometry Utilities

**Σκοπός:** Βοηθητικές συναρτήσεις για γεωμετρικούς μετασχηματισμούς

**Λειτουργίες:**
- `rotate_points_around_y()`: Περιστροφή κόμβων γύρω από άξονα Y
- Μετατροπή συντεταγμένων
- Υπολογισμός γεωμετρικών ιδιοτήτων

---

## 📊 Αποτελέσματα

Το πρόγραμμα παράγει τα ακόλουθα αποτελέσματα:

### Αριθμητικά Αποτελέσματα

**Κατασκευή:**
- 32 κόμβοι
- 122 στοιχεία (ράβδοι)
- 5 στηρίγματα (κόμβοι 1, 2, 30, 31, 32)
- 1 εξωτερικό φορτίο: Fz = -2000 N στον κόμβο 29

**Τυπικά Αποτελέσματα:**
- Μέγιστη μετατόπιση: ~0.4 mm
- Μέγιστη τάση: ~7 MPa
- Μέγιστη αξονική δύναμη: ~1600 N

### Έλεγχος Ισορροπίας

Το πρόγραμμα επαληθεύει αυτόματα την ισορροπία:
```
Συνολικό εφαρμοσμένο φορτίο:  -2000.00 N
Συνολική αντίδραση:            2000.00 N
Διαφορά:                       < 1e-11 N ✓
```

---

## 🔬 Αναλυτική Επαλήθευση

Για επαλήθευση της ακρίβειας του κώδικα, έχει επιλυθεί αναλυτικά ένα απλό παράδειγμα 4 κόμβων.

**Αρχεία Επαλήθευσης:**
- `validation_files/structure_example.dat` - Απλή γεωμετρία 4 κόμβων
- `validation_files/structure_example.res` - Αποτελέσματα που παράγονται από τον solver

**Για να τρέξετε το validation example:**
```bash
# Αντιγράψτε τα validation files στον φάκελο data
cp validation_files/structure_example.dat data/structure.dat

# Τρέξτε μόνο τον solver και postprocessor
python solver.py
python postprocessor.py
```

Τα αποτελέσματα που παίρνουμε από τον solver είναι **ταυτόσημα** με την αναλυτική λύση που παρουσιάζεται παρακάτω.

---

###### Απλό Παράδειγμα Επαλήθευσης Ακρίβειας Κώδικα #################################



### Παρακάτω είναι η αναλυτική λύση του απλού προβλήματος που ορίσαμε και του οποίου το αποτέλεσμα που βγάζει ο PreProssesor υπάρχει στο αρχείο structure_example.dat. Τα αποτελέσματα που παίρνουμε απο τον solver με βάση αυτό το αρχείο βρίσκονται στο αρχείο structure_example.res και παρατηρούμε οτι είναι τα ίδια με αυτά που παίρνουμε με βάση την αναλυτική λύση.


Ανάλυση 3D κατασκευής τριγωνικής πυραμίδας (tetrahedron) με 4 κόμβους και 6 στοιχεία (ράβδοι).

### Γεωμετρία

**Κόμβοι:**
- Κόμβος 1: (0, 0, 0) - Πλήρως πακτωμένος
- Κόμβος 2: (1, 0, 0) - Πλήρως πακτωμένος
- Κόμβος 3: (0, 3, 0) - Ελεύθερος (φορτίζεται)
- Κόμβος 4: (0, 0, 1) - Πλήρως πακτωμένος

**Στοιχεία (Ράβδοι):**
1. Element 1: Κόμβος 1 → 2 (βάση τριγώνου)
2. Element 2: Κόμβος 2 → 3 (βάση τριγώνου)
3. Element 3: Κόμβος 3 → 1 (βάση τριγώνου)
4. Element 4: Κόμβος 4 → 1 (ακμή πυραμίδας)
5. Element 5: Κόμβος 4 → 2 (ακμή πυραμίδας)
6. Element 6: Κόμβος 4 → 3 (ακμή πυραμίδας)

**Υλικό:**
- Μέτρο ελαστικότητας: E = 210 GPa = 210 × 10⁹ Pa
- Διατομή: A = 4 cm² = 4 × 10⁻⁴ m²

**Φόρτιση:**
- Φορτίο στον κόμβο 3: Fx = 1000 N (κατεύθυνση +X)
- Fy = 0, Fz = 0

**Οριακές Συνθήκες:**
- Κόμβοι 1, 2, 4: Πλήρως πακτωμένοι (Ux = Uy = Uz = 0)
- Κόμβος 3: Ελεύθερος (3 DOF)

---

## Βήμα 1: Υπολογισμός Γεωμετρικών Χαρακτηριστικών

### Μήκη Στοιχείων

**Element 1:** Από (0,0,0) → (1,0,0)
```
L₁ = √[(1-0)² + (0-0)² + (0-0)²] = √1 = 1.0 m
```

**Element 2:** Από (1,0,0) → (0,3,0)
```
L₂ = √[(0-1)² + (3-0)² + (0-0)²] = √[1 + 9] = √10 = 3.162278 m
```

**Element 3:** Από (0,3,0) → (0,0,0)
```
L₃ = √[(0-0)² + (0-3)² + (0-0)²] = √9 = 3.0 m
```

**Element 4:** Από (0,0,1) → (0,0,0)
```
L₄ = √[(0-0)² + (0-0)² + (0-1)²] = √1 = 1.0 m
```

**Element 5:** Από (0,0,1) → (1,0,0)
```
L₅ = √[(1-0)² + (0-0)² + (0-1)²] = √[1 + 1] = √2 = 1.414214 m
```

**Element 6:** Από (0,0,1) → (0,3,0)
```
L₆ = √[(0-0)² + (3-0)² + (0-1)²] = √[9 + 1] = √10 = 3.162278 m
```

### Συντελεστές Διεύθυνσης (Direction Cosines)

Για κάθε στοιχείο: lx = Δx/L, ly = Δy/L, lz = Δz/L

**Element 1:**
```
lx₁ = (1-0)/1.0 = 1.0
ly₁ = (0-0)/1.0 = 0.0
lz₁ = (0-0)/1.0 = 0.0
```

**Element 2:**
```
lx₂ = (0-1)/3.162278 = -0.316228
ly₂ = (3-0)/3.162278 = 0.948683
lz₂ = (0-0)/3.162278 = 0.0
```

**Element 3:**
```
lx₃ = (0-0)/3.0 = 0.0
ly₃ = (0-3)/3.0 = -1.0
lz₃ = (0-0)/3.0 = 0.0
```

**Element 4:**
```
lx₄ = (0-0)/1.0 = 0.0
ly₄ = (0-0)/1.0 = 0.0
lz₄ = (0-1)/1.0 = -1.0
```

**Element 5:**
```
lx₅ = (1-0)/1.414214 = 0.707107
ly₅ = (0-0)/1.414214 = 0.0
lz₅ = (0-1)/1.414214 = -0.707107
```

**Element 6:**
```
lx₆ = (0-0)/3.162278 = 0.0
ly₆ = (3-0)/3.162278 = 0.948683
lz₆ = (0-1)/3.162278 = -0.316228
```

---

## Βήμα 2: Δημιουργία Μητρώων Στιβαρότητας Στοιχείων

### Τύπος Μητρώου Στιβαρότητας (6×6) για κάθε Element

Για 3D truss element:

```
k = (EA/L) × [T]ᵀ × [1  -1] × [T]
                    [-1  1]
```

Όπου:
```
[T] = [lx  ly  lz]
```

Το πλήρες 6×6 μητρώο έχει μορφή:

```
       u₁x   u₁y   u₁z   u₂x   u₂y   u₂z
    ┌                                    ┐
u₁x │ lx²   lxly  lxlz  -lx²  -lxly -lxlz│
u₁y │ lxly  ly²   lylz  -lxly -ly²  -lylz│
u₁z │ lxlz  lylz  lz²   -lxlz -lylz -lz² │
u₂x │-lx²  -lxly -lxlz   lx²   lxly  lxlz│
u₂y │-lxly -ly²  -lylz   lxly  ly²   lylz│
u₂z │-lxlz -lylz -lz²    lxlz  lylz  lz² │
    └                                    ┘
```

Πολλαπλασιασμένο με: EA/L

### Υπολογισμός EA/L για κάθε στοιχείο

```
EA = 210×10⁹ Pa × 4×10⁻⁴ m² = 84×10⁶ N = 84,000,000 N
```

**Element 1:** EA/L₁ = 84×10⁶ / 1.0 = 84,000,000 N/m

**Element 2:** EA/L₂ = 84×10⁶ / 3.162278 = 26,562,500 N/m

**Element 3:** EA/L₃ = 84×10⁶ / 3.0 = 28,000,000 N/m

**Element 4:** EA/L₄ = 84×10⁶ / 1.0 = 84,000,000 N/m

**Element 5:** EA/L₅ = 84×10⁶ / 1.414214 = 59,397,238 N/m

**Element 6:** EA/L₆ = 84×10⁶ / 3.162278 = 26,562,500 N/m

### Μητρώα Στιβαρότητας ανά Στοιχείο

**Element 1:** (lx=1, ly=0, lz=0)

```
       DOF: 1    2    3    4    5    6
            ux₁  uy₁  uz₁  ux₂  uy₂  uz₂
k₁ = 84×10⁶ × ┌                          ┐
              │ 1    0    0   -1    0    0│
              │ 0    0    0    0    0    0│
              │ 0    0    0    0    0    0│
              │-1    0    0    1    0    0│
              │ 0    0    0    0    0    0│
              │ 0    0    0    0    0    0│
              └                          ┘
```

**Element 2:** (lx=-0.316228, ly=0.948683, lz=0)

```
       DOF: 4    5    6    7    8    9
            ux₂  uy₂  uz₂  ux₃  uy₃  uz₃
k₂ = 26.5625×10⁶ × ┌                                              ┐
                    │ 0.1000  -0.3000  0      -0.1000  0.3000  0  │
                    │-0.3000   0.9000  0       0.3000 -0.9000  0  │
                    │ 0        0       0       0       0       0  │
                    │-0.1000   0.3000  0       0.1000 -0.3000  0  │
                    │ 0.3000  -0.9000  0      -0.3000  0.9000  0  │
                    │ 0        0       0       0       0       0  │
                    └                                              ┘
```

**Element 3:** (lx=0, ly=-1, lz=0)

```
       DOF: 7    8    9    1    2    3
            ux₃  uy₃  uz₃  ux₁  uy₁  uz₁
k₃ = 28×10⁶ × ┌                          ┐
              │ 0    0    0    0    0    0│
              │ 0    1    0    0   -1    0│
              │ 0    0    0    0    0    0│
              │ 0    0    0    0    0    0│
              │ 0   -1    0    0    1    0│
              │ 0    0    0    0    0    0│
              └                          ┘
```

**Element 4:** (lx=0, ly=0, lz=-1)

```
       DOF: 10   11   12   1    2    3
            ux₄  uy₄  uz₄  ux₁  uy₁  uz₁
k₄ = 84×10⁶ × ┌                          ┐
              │ 0    0    0    0    0    0│
              │ 0    0    0    0    0    0│
              │ 0    0    1    0    0   -1│
              │ 0    0    0    0    0    0│
              │ 0    0    0    0    0    0│
              │ 0    0   -1    0    0    1│
              └                          ┘
```

**Element 5:** (lx=0.707107, ly=0, lz=-0.707107)

```
       DOF: 10   11   12   4    5    6
            ux₄  uy₄  uz₄  ux₂  uy₂  uz₂
k₅ = 59.4×10⁶ × ┌                                        ┐
                 │ 0.5   0   -0.5  -0.5   0    0.5  │
                 │ 0     0    0     0     0    0    │
                 │-0.5   0    0.5   0.5   0   -0.5  │
                 │-0.5   0    0.5   0.5   0   -0.5  │
                 │ 0     0    0     0     0    0    │
                 │ 0.5   0   -0.5  -0.5   0    0.5  │
                 └                                        ┘
```

**Element 6:** (lx=0, ly=0.948683, lz=-0.316228)

```
       DOF: 10   11   12   7    8    9
            ux₄  uy₄  uz₄  ux₃  uy₃  uz₃
k₆ = 26.5625×10⁶ × ┌                                              ┐
                    │ 0      0       0       0      0       0     │
                    │ 0      0.9000 -0.3000  0     -0.9000  0.3000│
                    │ 0     -0.3000  0.1000  0      0.3000 -0.1000│
                    │ 0      0       0       0      0       0     │
                    │ 0     -0.9000  0.3000  0      0.9000 -0.3000│
                    │ 0      0.3000 -0.1000  0     -0.3000  0.1000│
                    └                                              ┘
```

---

## Βήμα 3: Συναρμολόγηση Ολικού Μητρώου Στιβαρότητας 12×12

Το ολικό μητρώο [K] έχει διάσταση 12×12 (4 κόμβοι × 3 DOF/κόμβο).

Κάθε στοιχείο συνεισφέρει στις αντίστοιχες θέσεις βάσει της συνδεσιμότητάς του.

### Πλήρες Ολικό Μητρώο Στιβαρότητας [K] (×10⁶ N/m)

```
DOF:    1      2      3      4      5      6      7      8      9     10     11     12
       ux₁    uy₁    uz₁    ux₂    uy₂    uz₂    ux₃    uy₃    uz₃    ux₄    uy₄    uz₄

┌                                                                                            ┐
│  84.00   0.00   0.00  -84.00   0.00   0.00    0.00   0.00   0.00    0.00   0.00   0.00  │ 1
│   0.00  28.00   0.00    0.00   0.00   0.00    0.00 -28.00   0.00    0.00   0.00   0.00  │ 2
│   0.00   0.00  84.00    0.00   0.00   0.00    0.00   0.00   0.00    0.00   0.00 -84.00  │ 3
│                                                                                            │
│ -84.00   0.00   0.00  116.35  -7.97 -29.70   -2.66   7.97   0.00  -29.70   0.00  29.70  │ 4
│   0.00   0.00   0.00   -7.97  23.91   0.00    7.97 -23.91   0.00    0.00   0.00   0.00  │ 5
│   0.00   0.00   0.00  -29.70   0.00  29.70    0.00   0.00   0.00   29.70   0.00 -29.70  │ 6
│                                                                                            │
│   0.00   0.00   0.00   -2.66   7.97   0.00    2.66  -7.97   0.00    0.00   0.00   0.00  │ 7
│   0.00 -28.00   0.00    7.97 -23.91   0.00   -7.97  75.81  -7.97    0.00 -23.91   7.97  │ 8
│   0.00   0.00   0.00    0.00   0.00   0.00    0.00  -7.97   2.66    0.00   7.97  -2.66  │ 9
│                                                                                            │
│   0.00   0.00   0.00  -29.70   0.00  29.70    0.00   0.00   0.00   29.70   0.00 -29.70  │ 10
│   0.00   0.00   0.00    0.00   0.00   0.00    0.00 -23.91   7.97    0.00  23.91  -7.97  │ 11
│   0.00   0.00 -84.00   29.70   0.00 -29.70    0.00   7.97  -2.66  -29.70  -7.97 116.35  │ 12
└                                                                                            ┘
```

**Σημείωση:** Τα στοιχεία είναι σε 10⁶ N/m. Οι ακριβείς τιμές:
- 116.35 = 84 + 26.5631×0.1 + 29.697×0.5 (Element 1 + Element 2 + Element 5)
- 23.91 = 26.5631×0.9 (Element 2)
- 75.81 = 28 + 26.5631×0.9 + 26.5631×0.9 (Element 3 + Element 2 + Element 6)
- -7.97 = -26.5631×0.3 (coupling όροι)
- 29.70 = 59.397×0.5 (Element 5)
- κ.λπ.

---

## Βήμα 4: Διάνυσμα Φορτίων

Ολικό διάνυσμα φορτίων [F] (12×1):

```
       DOF    Value
       ux₁      0
       uy₁      0
       uz₁      0
{F} =  ux₂      0
       uy₂      0
       uz₂      0
       ux₃   1000 N  ← Φορτίο εδώ!
       uy₃      0
       uz₃      0
       ux₄      0
       uy₄      0
       uz₄      0
```

---

## Βήμα 5: Εφαρμογή Οριακών Συνθηκών

**Πακτωμένα DOF:** 1, 2, 3 (κόμβος 1), 4, 5, 6 (κόμβος 2), 10, 11, 12 (κόμβος 4)

**Ελεύθερα DOF:** 7, 8, 9 (κόμβος 3: ux₃, uy₃, uz₃)

### Μειωμένο Σύστημα (3×3)

Κρατάμε μόνο τις γραμμές και στήλες 7, 8, 9:

```
         ux₃    uy₃    uz₃
┌                          ┐
│  2.66  -7.97   0.00     │ ux₃
│ -7.97  75.81  -7.97     │ uy₃
│  0.00  -7.97   2.66     │ uz₃
└                          ┘
```

Πολλαπλασιασμένο με 10⁶ N/m.

**Ακριβείς τιμές:**
```
K_reduced = 10⁶ × ┌                                ┐
                   │  2.6563  -7.9689   0.0000     │
                   │ -7.9689  75.8136  -7.9689     │
                   │  0.0000  -7.9689   2.6563     │
                   └                                ┘
```

**Συνεισφορές:**
- K[7,7] = 2.6563: Element 2 (lx²)
- K[8,8] = 75.8136: Element 2 (ly²) + Element 3 (ly²) + Element 6 (ly²)
- K[9,9] = 2.6563: Element 6 (lz²)
- K[7,8] = K[8,7] = -7.9689: Element 2 (lx×ly coupling)
- K[8,9] = K[9,8] = -7.9689: Element 6 (ly×lz coupling)

**Μειωμένο διάνυσμα φορτίων:**
```
F_reduced = │1000│
            │  0 │
            │  0 │
```

---

## Βήμα 6: Επίλυση Συστήματος

Λύνουμε: [K_reduced] × {u} = {F_reduced}

```
┌                                ┐   ┌    ┐   ┌    ┐
│  2.6563  -7.9689   0.0000      │   │ux₃ │   │1000│
│ -7.9689  75.8136  -7.9689      │ × │uy₃ │ = │  0 │
│  0.0000  -7.9689   2.6563      │   │uz₃ │   │  0 │
└                                ┘   └    ┘   └    ┘
```

Πολλαπλασιάζουμε με 10⁶.

### Επίλυση:

**Από την 2η εξίσωση:**
```
-7.9689×10⁶×ux₃ + 75.8136×10⁶×uy₃ - 7.9689×10⁶×uz₃ = 0
```

**Από την 3η εξίσωση:**
```
-7.9689×10⁶×uy₃ + 2.6563×10⁶×uz₃ = 0
uz₃ = (7.9689/2.6563)×uy₃ = 3.0×uy₃
```

**Από την 1η εξίσωση:**
```
2.6563×10⁶×ux₃ - 7.9689×10⁶×uy₃ = 1000
ux₃ = (1000 + 7.9689×10⁶×uy₃) / (2.6563×10⁶)
```

Αντικαθιστώντας uz₃ = 3×uy₃ στη 2η εξίσωση και λύνοντας το σύστημα:

### Λύση:

```
ux₃ = 6.979×10⁻⁴ m = 0.6979 mm
uy₃ = 1.071×10⁻⁴ m = 0.1071 mm
uz₃ = 3.214×10⁻⁴ m = 0.3214 mm

Επαλήθευση: uz₃/uy₃ = 0.3214/0.1071 = 3.000 ✓
```

**Συνολική μετατόπιση:**
```
|u₃| = √(ux₃² + uy₃² + uz₃²)
     = √[(0.6979)² + (0.1071)² + (0.3214)²]
     = √[0.4871 + 0.0115 + 0.1033]
     = √0.6019
     = 0.776 mm
```

---

## Βήμα 7: Υπολογισμός Αντιδράσεων

Για τα πακτωμένα DOF:
```
{R} = [K_constrained] × {u_all} - {F_constrained}
```

**Κόμβος 1:**
```
Rx₁ = 0 N 
Ry₁ = 28×10⁶ × (0 - 0.1071×10⁻³) = -3000 N
Rz₁ = 0 N
```

**Κόμβος 2:**
```
Rx₂ = -1000 N (αντίδραση του φορτίου μέσω Elements 1, 2)
Ry₂ = +3000 N (ισορροπία σε y)
Rz₂ = 0 N
```

**Κόμβος 4:**
```
Rx₄ = 0 N (συμμετρία)
Ry₄ = 0 N (συμμετρία)
Rz₄ = 0 N (συμμετρία)
```

**Έλεγχος ισορροπίας:**
```
ΣFx = Rx₁ + Rx₂ + Rx₄ + 1000 = 0 + (-1000) + 0 + 1000 = 0 ✓
ΣFy = Ry₁ + Ry₂ + Ry₄ + 0 = -3000 + 3000 + 0 + 0 = 0 ✓
ΣFz = Rz₁ + Rz₂ + Rz₄ + 0 = 0 + 0 + 0 + 0 = 0 ✓
```

---

## Βήμα 8: Δυνάμεις και Τάσεις Στοιχείων

Για κάθε στοιχείο:
```
ΔL = (u₂ - u₁) · direction
ε = ΔL / L
σ = E × ε
F = σ × A
```

### Element 1: (1→2)

```
u₁ = [0, 0, 0]
u₂ = [0, 0, 0]  (κόμβος 2 πακτωμένος)
ΔL₁ = (1.0)×(0-0) + (0)×(0-0) + (0)×(0-0) = 0
F₁ = 0 N
```

### Element 2: (2→3)

```
u₂ = [0, 0, 0]
u₃ = [6.979×10⁻⁴, 1.071×10⁻⁴, 3.214×10⁻⁴]
Δu = u₃ - u₂ = [6.979×10⁻⁴, 1.071×10⁻⁴, 3.214×10⁻⁴]

ΔL₂ = lx₂×Δux + ly₂×Δuy + lz₂×Δuz
    = (-0.316228)×(6.979×10⁻⁴) + (0.948683)×(1.071×10⁻⁴) + (0)×(3.214×10⁻⁴)
    = -2.207×10⁻⁴ + 1.016×10⁻⁴ + 0
    = -1.191×10⁻⁴ m

ε₂ = -1.191×10⁻⁴ / 3.162278 = -3.766×10⁻⁵
σ₂ = 210×10⁹ × (-3.766×10⁻⁵) = -7.91×10⁶ Pa = -7.91 MPa
F₂ = -7.91×10⁶ × 4×10⁻⁴ = -3162 N (θλίψη)

**Σημείωση:** Το αρνητικό πρόσημο δείχνει θλίψη (compression).
```

### Element 3: (3→1)

```
u₃ = [6.979×10⁻⁴, 1.071×10⁻⁴, 3.214×10⁻⁴]
u₁ = [0, 0, 0]
Δu = u₁ - u₃ = [-6.979×10⁻⁴, -1.071×10⁻⁴, -3.214×10⁻⁴]

ΔL₃ = (0)×(-6.979×10⁻⁴) + (-1.0)×(-1.071×10⁻⁴) + (0)×(-3.214×10⁻⁴)
    = 0 + 1.071×10⁻⁴ + 0
    = 1.071×10⁻⁴ m

ε₃ = 1.071×10⁻⁴ / 3.0 = 3.571×10⁻⁵
σ₃ = 210×10⁹ × 3.571×10⁻⁵ = 7.50×10⁶ Pa = 7.50 MPa
F₃ = 7.50×10⁶ × 4×10⁻⁴ = +3000 N (εφελκυσμός)
```

### Element 4: (4→1)

```
u₄ = [0, 0, 0]
u₁ = [0, 0, 0]
ΔL₄ = 0
F₄ = 0 N
```

### Element 5: (4→2)

```
u₄ = [0, 0, 0]
u₂ = [0, 0, 0]
ΔL₅ = 0
F₅ = 0 N
```

### Element 6: (4→3) **ΕΙΔΙΚΗ ΠΕΡΙΠΤΩΣΗ**

```
u₄ = [0, 0, 0]
u₃ = [6.979×10⁻⁴, 1.071×10⁻⁴, 3.214×10⁻⁴]
Δu = u₃ - u₄ = [6.979×10⁻⁴, 1.071×10⁻⁴, 3.214×10⁻⁴]

ΔL₆ = (0)×(6.979×10⁻⁴) + (0.948683)×(1.071×10⁻⁴) + (-0.316228)×(3.214×10⁻⁴)
    = 0 + 1.016×10⁻⁴ - 1.016×10⁻⁴
    = 0 m

F₆ = 0 N
```

**Παρατήρηση:** Το Element 6 έχει μηδενική επιμήκυνση επειδή:
- ly₆/lz₆ = 0.948683/(-0.316228) = -3.0
- uy₃/uz₃ = 1.071×10⁻⁴ / 3.214×10⁻⁴ = 0.333 ≈ 1/3
- uz₃ = 3 × uy₃

Άρα: ΔL₆ = ly₆×uy₃ + lz₆×uz₃ = (0.9487)×uy₃ + (-0.3162)×(3×uy₃) = 0

Αυτό είναι **γεωμετρική ιδιότητα** της συγκεκριμένης δομής με αυτή τη φόρτιση!

---

## Σύνοψη Αποτελεσμάτων

### Μετατοπίσεις Κόμβου 3:
```
ux₃ = 0.698 mm
uy₃ = 0.107 mm
uz₃ = 0.321 mm
|u₃| = 0.776 mm
```

### Δυνάμεις Στοιχείων:
```
Element 1: 0 N
Element 2: -3162 N (θλίψη)
Element 3: +3000 N (εφελκυσμός)
Element 4: 0 N
Element 5: 0 N
Element 6: 0 N (λόγω γεωμετρικής συμμετρίας!)
```

### Αντιδράσεις:
```
Κόμβος 1: (0, -3000, 0) N
Κόμβος 2: (-1000, +3000, 0) N
Κόμβος 4: (0, 0, 0) N
Άθροισμα: (-1000, 0, 0) N + Εφαρμοσμένο (1000, 0, 0) = (0, 0, 0) ✓
```

---

## Συμπεράσματα

1. **Η ανάλυση είναι σωστή** - Το Element 6 έχει πράγματι μηδενική επιμήκυνση.

2. **Γεωμετρική Συμμετρία:** Με Node 3 στο (0, y, 0) και Node 4 στο (0, 0, z), και μόνο φορτίο Fx, η δομή απαντά με uz₃ = (y/z)×uy₃, οπότε το Element 6 παραμένει σταθερού μήκους.

3. **Ο solver λειτουργεί απόλυτα σωστά** - Δεν υπάρχει bug στον κώδικα!